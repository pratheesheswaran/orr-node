(this["webpackJsonpnew-app"]=this["webpackJsonpnew-app"]||[]).push([[0],{45:function(e,t,n){e.exports=n(82)},50:function(e,t,n){},51:function(e,t,n){},73:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){},82:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(25),c=n.n(r),l=(n(50),n(13)),s=n(14),i=n(16),u=n(15),p=(n(51),n(24)),h=n(8),m=n(19),d=n(20),f=n.n(d),g=function(e){return console.log("loginaction"),{type:"POSTLOGINSAGA",payload:e}},b=n(6),E=(n(73),function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={email:"",password:""},e.handleSubmit=function(t){t.preventDefault(),console.log("login handle submit"),e.props.loginDispatch(e.state)},e.handleChange=function(t){t.preventDefault(),e.setState(Object(m.a)({},t.target.id,t.target.value))},e}return Object(s.a)(n,[{key:"componentDidUpdate",value:function(e,t){console.log("asdf",e.login.isLoggedIn),console.log("asdf this.prop",this.props.login.isLoggedIn)}},{key:"render",value:function(){return o.a.createElement("form",{onSubmit:this.handleSubmit,className:"login-container"},o.a.createElement("lable",null,"email"),o.a.createElement("input",{type:"email",id:"email",onChange:this.handleChange})," ",o.a.createElement("br",null),o.a.createElement("lable",null,"password"),o.a.createElement("input",{type:"password",id:"password",onChange:this.handleChange}),o.a.createElement("button",{onClick:this.handleSubmit},"login"))}}]),n}(a.Component)),v=Object(h.f)(Object(b.b)((function(e){return{login:e.login}}),(function(e){return{loginDispatch:function(t){return e(g(t))}}}))(E));n(75);function O(e){console.log("blogsdata",e);var t=null;return t=e.isReadMore?e&&e.blogs&&e.blogs.blogsData&&e.blogs.blogsData.length>0&&e.blogs.blogsData:e&&e.blogs&&e.blogs.blogsData&&e.blogs.blogsData.length>0&&e.blogs.blogsData.slice(0,3),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"scew-container"},o.a.createElement("div",{class:"blog-container"},o.a.createElement("ul",null,t&&t.length>0&&t.map((function(t,n){return o.a.createElement("div",{onClick:function(){return e.fetchBlogDetail(t)}},o.a.createElement("li",null,o.a.createElement("h2",null,t.title),o.a.createElement("p",null,t.content)))}))),o.a.createElement("p",{class:"read-more",onClick:e.isReadMoreFunc},e.isReadMore?"":"Read more"))))}n(76);var k=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={task:""},e.addTask=function(t){t.preventDefault();var n={task:e.state.task,isDone:!1};e.props.addTaskDipatch(n)},e.setNewTaskData=function(t){t.preventDefault(),e.setState(Object(m.a)({},t.target.id,t.target.value))},e}return Object(s.a)(n,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"task-container"},this.props&&this.props.tasks&&this.props.tasks.length>0&&this.props.tasks.map((function(e,t){return o.a.createElement("p",null,e.task)})),o.a.createElement("form",{className:"addtask-form"},o.a.createElement("input",{type:"text",id:"task",onChange:this.setNewTaskData,placeholder:"   Add taks"}),o.a.createElement("button",{onClick:this.addTask},"Add"))))}}]),n}(a.Component),y=Object(b.b)((function(e){return{home:e.home,login:e.login}}),(function(e){return{addTaskDipatch:function(t){return e(function(e){return{type:"ADDNEWTASK",payload:e}}(t))}}}))(k),D=(n(77),function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={message:"",blogsData:{},isReadMore:!1},e.handleClick=function(){},e.fetchBlogDetail=function(t){console.log("fetching blog detail functioncalled",t),e.props.history.push("/blog-detail/".concat(t._id))},e.isReadMore=function(){e.setState({isReadMore:!e.state.isReadMore},(function(){e.state.isReadMore&&e.props.history.push("/all-post")}))},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.props.getBlogs(),this.props.getTasks()}},{key:"componentDidUpdate",value:function(){console.log("sss",this.props.home.blogsData)}},{key:"render",value:function(){var e=this;return console.log("home reducer",this.props.home),o.a.createElement("div",{className:"home-container"},o.a.createElement("h1",{className:"title-right blog-text",onClick:function(){e.props.history.push("./add-post")}},"Blog"),o.a.createElement(O,{blogs:this.props.home,fetchBlogDetail:function(t){return e.fetchBlogDetail(t)},isReadMoreFunc:this.isReadMore,isReadMore:this.state.isReadMore}),o.a.createElement("h1",{className:"title-right task-text"},"Tasks"),o.a.createElement(y,{tasks:this.props.home.tasksData}))}}]),n}(a.Component)),j=Object(h.f)(Object(b.b)((function(e){return{home:e.home,login:e.login}}),(function(e){return{loginDispatch:function(){return e(g())},getBlogs:function(){return e({type:"GETBLOGS",payload:null})},getTasks:function(){return e({type:"GETTASKS",payload:null})}}}))(D));n(78);function S(){return o.a.createElement("div",{className:"nav-container container"},o.a.createElement(p.b,{to:"/"},o.a.createElement("h1",null,"Orr")),o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement(p.b,{to:"/"},"Home")),o.a.createElement("li",null,o.a.createElement("a",{href:"#"},"Admin"))))}n(79);var w=Object(b.b)((function(e){return{home:e.home}}))((function(e){console.log("props",e);var t=null;return!!(e&&e.home&&e.home.blogsData&&e.home.blogsData.length>0)&&(!0,t=e.home.blogsData.find((function(t){return t._id===e.match.params.id})),console.log("detailData",t)),o.a.createElement("div",{className:"boot-container"},o.a.createElement("h1",null,t.title),o.a.createElement("p",null,t.content),o.a.createElement("div",{className:"edit-btn"},o.a.createElement("p",null,"Edit"),o.a.createElement("p",{onClick:function(){return e.history.goBack()}},"Back")))})),C=(n(80),function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={title:"",content:""},e.savePost=function(t){t.preventDefault();var n={title:e.state.title,content:e.state.content};e.props.savePostDispatch(n)},e.setData=function(t){t.preventDefault(),e.setState(Object(m.a)({},t.target.id,t.target.value))},e.fetchBlogDetail=function(t){console.log("fetching blog detail functioncalled",t),e.props.history.push("/blog-detail/".concat(t._id))},e}return Object(s.a)(n,[{key:"componentDidUpdate",value:function(e,t){console.log("preprob",e),console.log("prevstate",t),console.log("this.prps",this.props),e.home!==this.props.home&&(console.log("redirect to home"),this.props.history.push("./"))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"boot-container blogEdit-container"},o.a.createElement("form",null,o.a.createElement("h1",null,"Title"),o.a.createElement("input",{type:"text",id:"title",onChange:function(t){return e.setData(t)}}),o.a.createElement("h1",null,"Content"),o.a.createElement("textarea",{onChange:function(t){return e.setData(t)},id:"content"}),o.a.createElement("div",{class:"save-btn"},o.a.createElement("button",{onClick:this.savePost},"save "))),o.a.createElement(O,{blogs:this.props.home,fetchBlogDetail:function(t){return e.fetchBlogDetail(t)},isReadMore:!1}))}}]),n}(a.Component)),T=Object(h.f)(Object(b.b)((function(e){return{home:e.home}}),(function(e){return{savePostDispatch:function(t){return e(function(e){return{type:"POSTBLOGPOST",payload:e}}(t))}}}))(C));var x=Object(b.b)((function(e){return{home:e.home}}))((function(e){return o.a.createElement("div",{className:"boot-container"},o.a.createElement(O,{blogs:e.home,fetchBlogDetail:function(e){return function(e){console.log("fetching blog detail functioncalled",e),this.props.history.push("/blog-detail/".concat(e._id))}(e)},isReadMore:!0}))})),A=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(p.a,null,o.a.createElement(S,null),o.a.createElement(h.c,null,o.a.createElement(h.a,{exact:!0,path:"/",component:j}),o.a.createElement(h.a,{path:"/login",component:v}),o.a.createElement(h.a,{path:"/home",component:v}),o.a.createElement(h.a,{path:"/blog-detail/:id",component:w}),o.a.createElement(h.a,{path:"/add-post",component:T}),o.a.createElement(h.a,{path:"/all-post",component:x}))))}}]),n}(a.Component),G=Object(b.b)(null,(function(e){return{loginDispatch:function(){return e(g())}}}))(A);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var B=n(18),N=n(44),R=n(22),L={blogsData:{},message:"",tasksData:{}},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SUCCESS":return console.log("home reducer state change from success case"),Object(R.a)({},e,{message:t.payload});case"GETBLOGSUCCESS":return Object(R.a)({},e,{blogsData:t.payload});case"GETTASKSSUCCESS":return Object(R.a)({},e,{tasksData:t.payload});default:return e}},I={isLoggedIn:!1},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGINDATARECEIVED":return console.log("LOGINDATARECEIVED",t.payload),Object(R.a)({},e,{isLoggedIn:t.payload.status});default:return e}},U=Object(B.c)({home:M,login:P}),K=n(5),F=n.n(K),W=n(12),_=F.a.mark(ee),V=F.a.mark(te),J=F.a.mark(ne),H=F.a.mark(ae),$=F.a.mark(oe),q=F.a.mark(re),z=F.a.mark(ce),Q=F.a.mark(le),X=F.a.mark(se),Y=F.a.mark(ie),Z=F.a.mark(ue);function ee(){var e;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.get("https://orr-node.herokuapp.com/api/blogs").then((function(e){return e.data}));case 2:return e=t.sent,t.next=5,Object(W.b)({type:"GETBLOGSUCCESS",payload:e});case 5:case"end":return t.stop()}}),_)}function te(){var e;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.get("https://orr-node.herokuapp.com/api/tasks").then((function(e){return e.data}));case 2:return e=t.sent,t.next=5,Object(W.b)({type:"GETTASKSSUCCESS",payload:e});case 5:case"end":return t.stop()}}),V)}function ne(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(W.c)("GETBLOGS",ee);case 2:case"end":return e.stop()}}),J)}function ae(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(W.c)("GETTASKS",te);case 2:case"end":return e.stop()}}),H)}function oe(e){var t;return F.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("get loign from  saga"),n.next=3,f.a.post("https://orr-node.herokuapp.com/api/login",e.payload).then((function(e){return e.data}));case 3:return t=n.sent,n.next=6,Object(W.b)({type:"LOGINDATARECEIVED",payload:t});case 6:case"end":return n.stop()}}),$)}function re(e){var t;return F.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("posting blog new post to server",e),n.next=3,f.a.post("https://orr-node.herokuapp.com/api/add-post",e.payload).then((function(e){return e.data}));case 3:return t=n.sent,console.log("json",t),n.next=7,Object(W.b)({type:"GETBLOGSUCCESS",payload:t});case 7:case"end":return n.stop()}}),q)}function ce(e){var t;return F.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("posting blog new post to server",e),n.next=3,f.a.post("https://orr-node.herokuapp.com/api/add-task",e.payload).then((function(e){return e.data}));case 3:return t=n.sent,console.log("json",t),n.next=7,Object(W.b)({type:"GETTASKSSUCCESS",payload:t});case 7:case"end":return n.stop()}}),z)}function le(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(W.c)("POSTBLOGPOST",re);case 2:case"end":return e.stop()}}),Q)}function se(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(W.c)("POSTLOGINSAGA",oe);case 2:case"end":return e.stop()}}),X)}function ie(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(W.c)("ADDNEWTASK",ce);case 2:case"end":return e.stop()}}),Y)}function ue(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(W.a)([se(),ne(),ae(),le(),ie()]);case 2:case"end":return e.stop()}}),Z)}var pe=Object(N.a)(),he=Object(B.e)(U,Object(B.a)(pe));pe.run(ue),c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(b.a,{store:he},o.a.createElement(G,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[45,1,2]]]);
//# sourceMappingURL=main.22caf2e7.chunk.js.map